<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TETA SAINS - Pemrograman & IDE Arduino</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #38b2ac;
            --secondary: #0e7490;
            --accent: #f59e0b;
        }
        
        body {
            font-family: 'Baloo 2', cursive;
            background-color: #f8fafc;
        }
        
        .app-container {
            max-width: 414px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        /* NAVBAR - TIDAK DIRUBAH */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 414px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            background: white;
            z-index: 10;
            height: 70px;
            display: flex;
            align-items: center;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            text-decoration: none;
            flex: 1;
            height: 100%;
            padding: 0.5rem 0;
            transition: all 0.3s ease;
        }
        
        .nav-item span {
            font-size: 0.75rem;
            margin-top: 0.25rem;
        }
        
        .nav-item.active {
            color: var(--primary);
        }
        
        .nav-icon {
            transition: all 0.3s ease;
            font-size: 1.25rem;
        }
        
        .nav-icon.active {
            transform: translateY(-5px);
            color: var(--primary);
        }
        
        /* TABLE STYLES - Diubah menjadi grid fungsi/tipe data */
        .function-table {
            display: grid;
            grid-template-columns: repeat(18, 1fr);
            gap: 2px;
            padding: 5px;
            overflow-x: auto;
        }
        
        .function-cell {
            min-width: 35px;
            height: 35px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        
        .function-cell:hover {
            transform: scale(1.05);
            z-index: 2;
            box-shadow: 0 3px 6px rgba(0,0,0,0.15);
        }
        
        .function-cell.selected {
            border: 2px solid #f59e0b;
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4); }
            70% { box-shadow: 0 0 0 5px rgba(245, 158, 11, 0); }
            100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0); }
        }
        
        .function-number {
            position: absolute;
            top: 2px;
            left: 3px;
            font-size: 7px;
            font-weight: bold;
        }
        
        .function-symbol {
            font-size: 12px;
            font-weight: 800;
            line-height: 1;
        }
        
        .function-name {
            font-size: 5px;
            margin-top: 1px;
            text-align: center;
            display: none;
        }
        
        .function-cell:hover .function-name {
            display: block;
        }
        
        /* Legend styles */
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            margin-right: 8px;
            flex-shrink: 0;
        }
        
        /* FUNCTION CATEGORY COLORS */
        .data-types { background-color: #ff6b6b; color: white; }
        .control-structures { background-color: #ffa726; color: white; }
        .input-output { background-color: #42a5f5; color: white; }
        .math-functions { background-color: #66bb6a; color: white; }
        .time-functions { background-color: #ab47bc; color: white; }
        .digital-functions { background-color: #26c6da; color: white; }
        .analog-functions { background-color: #ffca28; color: #000; }
        .communication { background-color: #ec407a; color: white; }
        .advanced { background-color: #7e57c2; color: white; }
        .libraries { background-color: #5c6bc0; color: white; }
        
        /* Modal styles */
        .function-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            padding: 20px;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 20px;
            max-width: 350px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
        
        .app-logo {
            display: flex;
            align-items: center;
        }
        
        .app-logo-icon {
            background: #9999ff;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
        }
        
        .app-name {
            font-weight: 700;
            font-size: 1.25rem;
            color: #9999ff;
        }
        
        /* Function detail styles */
        .function-detail-card {
            border-radius: 12px;
            padding: 15px;
            margin-top: 10px;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid #eee;
        }
        
        .detail-label {
            font-weight: 600;
            color: #666;
            font-size: 14px;
        }
        
        .detail-value {
            font-weight: 700;
            color: #333;
            font-size: 14px;
        }
        
        /* Scrollbar styling */
        .function-table::-webkit-scrollbar {
            height: 6px;
        }
        
        .function-table::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        
        .function-table::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        
        /* Group labels */
        .group-label {
            font-size: 10px;
            text-align: center;
            color: #666;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        /* Period labels */
        .period-label {
            font-size: 10px;
            text-align: right;
            color: #666;
            font-weight: 600;
            padding-right: 5px;
            width: 20px;
        }
        
        /* Layout grid untuk tabel dengan label */
        .table-container {
            display: flex;
            flex-direction: column;
        }
        
        .table-header {
            display: grid;
            grid-template-columns: 20px repeat(18, 1fr);
            gap: 2px;
            margin-bottom: 5px;
        }
        
        .table-body {
            display: flex;
        }
        
        .period-labels {
            display: flex;
            flex-direction: column;
            gap: 2px;
            margin-right: 5px;
        }
        
        .period-row {
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Combine System Styles */
        .combine-panel {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 15px;
        }
        
        .selected-functions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
            min-height: 40px;
        }
        
        .selected-function-badge {
            background: white;
            color: #333;
            padding: 5px 10px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            font-size: 14px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .selected-function-badge .remove-btn {
            background: none;
            border: none;
            color: #ff6b6b;
            margin-left: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .combine-result {
            background: white;
            color: #333;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .sketch-name {
            font-size: 18px;
            font-weight: 700;
            color: #333;
            margin-bottom: 5px;
        }
        
        .sketch-code {
            font-size: 14px;
            font-weight: 800;
            color: #4f46e5;
            margin-bottom: 10px;
            background: #f8fafc;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .sketch-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .sketch-properties {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            font-size: 12px;
        }
        
        .sketch-prop {
            background: #f8fafc;
            padding: 8px;
            border-radius: 6px;
        }
        
        .combine-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .combine-btn {
            flex: 1;
            background: #f59e0b;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .combine-btn:hover {
            background: #d97706;
        }
        
        .combine-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .clear-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .clear-btn:hover {
            background: #dc2626;
        }
        
        .status-message {
            text-align: center;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 5px;
            min-height: 16px;
        }
        
        /* Tab Styles */
        .tab-container {
            display: flex;
            background: #f1f5f9;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 15px;
        }
        
        .tab {
            flex: 1;
            text-align: center;
            padding: 8px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .tab.active {
            background: white;
            color: #4f46e5;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        /* Syntax highlighting untuk contoh kode */
        .code-example {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        .code-comment { color: #75715e; }
        .code-keyword { color: #f92672; }
        .code-function { color: #a6e22e; }
        .code-variable { color: #fd971f; }
        .code-number { color: #ae81ff; }
        .code-string { color: #e6db74; }
        
        /* Responsive adjustments */
        @media (max-width: 380px) {
            .function-cell {
                min-width: 30px;
                height: 30px;
                font-size: 9px;
            }
            
            .function-symbol {
                font-size: 10px;
            }
            
            .function-number {
                font-size: 6px;
            }
        }
        
        /* Animasi untuk tab transisi */
        .tab-content {
            transition: opacity 0.3s ease;
        }
        
        /* Style untuk kategori filter */
        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin: 10px 0;
        }
        
        .category-btn {
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 10px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .category-btn.active {
            color: white;
            font-weight: bold;
            transform: scale(1.05);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        /* Improved mobile styles untuk konsistensi */
        @media (max-width: 414px) {
            .bottom-nav {
                height: 65px; /* SAMA DENGAN FILE CHAT */
            }
            
            .nav-icon {
                font-size: 1.1rem; /* SAMA DENGAN FILE CHAT */
            }
        }
    </style>
</head>
<body>
    <!-- Mobile App Container -->
    <div class="app-container">
        <!-- App Header -->
        <header class="bg-gradient-to-r from-primary to-secondary p-4 text-white">
            <div class="flex justify-between items-center">
                <div class="app-logo">
                    <div class="app-logo-icon">
                        <i class="fas fa-microchip"></i>
                    </div>
                    <h1 class="app-name">QUANTARA</h1>
                </div>
                <div class="flex items-center space-x-3">
                    <i class="fas fa-search"></i>
                    <i class="fas fa-user-circle text-xl"></i>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="pb-24 p-4">
            <!-- Page Title -->
            <div class="mb-4">
                <h1 class="text-xl font-bold text-gray-800 mb-1">
                    <i class="fas fa-code text-teal-500 mr-2"></i> Pemrograman Arduino
                </h1>
                <p class="text-gray-600 text-sm">
                    Bahasa pemrograman & fungsi-fungsi utama dalam IDE Arduino
                </p>
            </div>
            
            <!-- Tabs -->
            <div class="tab-container">
                <div class="tab active" data-tab="table">Fungsi & Sintaks</div>
                <div class="tab" data-tab="combine">Buat Sketch</div>
                <div class="tab" data-tab="examples">Contoh Program</div>
            </div>
            
            <!-- Tab Content: Table -->
            <div id="table-tab" class="tab-content active">
                <!-- Search Bar -->
                <div class="mb-4">
                    <div class="relative">
                        <input type="text" id="search-function" placeholder="Cari fungsi..." 
                               class="w-full p-3 pl-10 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm">
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
                
                <!-- Filter Kategori -->
                <div class="category-filter mb-3">
                    <button class="category-btn data-types active" data-category="all">Semua</button>
                    <button class="category-btn data-types" data-category="data-types">Tipe Data</button>
                    <button class="category-btn control-structures" data-category="control-structures">Kontrol</button>
                    <button class="category-btn digital-functions" data-category="digital-functions">Digital</button>
                    <button class="category-btn analog-functions" data-category="analog-functions">Analog</button>
                    <button class="category-btn time-functions" data-category="time-functions">Waktu</button>
                    <button class="category-btn communication" data-category="communication">Komunikasi</button>
                </div>
                
                <!-- Tabel Fungsi Arduino -->
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold text-gray-700 text-sm flex items-center">
                            <i class="fas fa-microchip text-blue-500 mr-2 text-xs"></i> Fungsi Arduino
                        </h3>
                        <div class="text-xs text-gray-500">
                            <span id="total-functions">88</span> fungsi
                        </div>
                    </div>
                    
                    <div class="bg-white border border-gray-200 rounded-xl p-3">
                        <div class="table-container">
                            <!-- Header untuk kategori -->
                            <div class="table-header">
                                <div></div> <!-- Kolom kosong untuk label baris -->
                                <div class="group-label">I/O</div>
                                <div class="group-label">Ctrl</div>
                                <div class="group-label">Math</div>
                                <div class="group-label">Time</div>
                                <div class="group-label">Com</div>
                                <div class="group-label">Var</div>
                                <div class="group-label">Adv</div>
                                <div class="group-label">8</div>
                                <div class="group-label">9</div>
                                <div class="group-label">10</div>
                                <div class="group-label">11</div>
                                <div class="group-label">12</div>
                                <div class="group-label">13</div>
                                <div class="group-label">14</div>
                                <div class="group-label">15</div>
                                <div class="group-label">16</div>
                                <div class="group-label">17</div>
                                <div class="group-label">18</div>
                            </div>
                            
                            <div class="table-body">
                                <!-- Label baris -->
                                <div class="period-labels">
                                    <div class="period-row"></div> <!-- Baris kosong untuk header -->
                                    <div class="period-row">1</div>
                                    <div class="period-row">2</div>
                                    <div class="period-row">3</div>
                                    <div class="period-row">4</div>
                                    <div class="period-row">5</div>
                                    <div class="period-row">6</div>
                                    <div class="period-row">7</div>
                                    <div class="period-row">8</div>
                                    <div class="period-row">9</div>
                                </div>
                                
                                <!-- Tabel fungsi utama -->
                                <div id="function-table" class="function-table">
                                    <!-- Functions will be generated by JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Note untuk library dan advanced -->
                        <div class="mt-4 text-center">
                            <div class="text-xs text-gray-500 mb-2">
                                * Library dan fungsi advanced tersedia terpisah
                            </div>
                            <div class="flex justify-center space-x-4">
                                <button id="show-libraries" class="text-xs bg-purple-100 text-purple-700 px-3 py-1 rounded-full hover:bg-purple-200 transition">
                                    <i class="fas fa-book mr-1"></i> Lihat Libraries
                                </button>
                                <button id="show-advanced" class="text-xs bg-blue-100 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-200 transition">
                                    <i class="fas fa-cogs mr-1"></i> Fungsi Advanced
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Legend - Dipindah ke bawah tabel -->
                <div class="mb-6 p-3 bg-gray-50 rounded-xl">
                    <h3 class="font-bold text-gray-700 mb-2 text-sm">Kategori Fungsi:</h3>
                    <div class="grid grid-cols-2 gap-1">
                        <div class="legend-item">
                            <div class="legend-color data-types"></div>
                            <span class="text-xs">Tipe Data</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color control-structures"></div>
                            <span class="text-xs">Struktur Kontrol</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color digital-functions"></div>
                            <span class="text-xs">Digital I/O</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color analog-functions"></div>
                            <span class="text-xs">Analog I/O</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color time-functions"></div>
                            <span class="text-xs">Fungsi Waktu</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color math-functions"></div>
                            <span class="text-xs">Matematika</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color communication"></div>
                            <span class="text-xs">Komunikasi</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color advanced"></div>
                            <span class="text-xs">Advanced</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Tab Content: Combine Functions -->
            <div id="combine-tab" class="tab-content">
                <div class="combine-panel">
                    <h3 class="font-bold text-lg mb-3">
                        <i class="fas fa-laptop-code mr-2"></i>Buat Sketch Arduino
                    </h3>
                    <p class="text-sm mb-4">
                        Pilih 2-3 fungsi untuk membuat sketch Arduino.
                        Klik pada fungsi di tabel untuk memilih.
                    </p>
                    
                    <div class="selected-functions" id="selected-functions">
                        <div class="text-sm text-center w-full py-2" id="empty-selection">
                            Belum ada fungsi dipilih
                        </div>
                    </div>
                    
                    <div class="combine-actions">
                        <button id="combine-btn" class="combine-btn" disabled>
                            <i class="fas fa-bolt mr-2"></i>Generate Sketch
                        </button>
                        <button id="clear-btn" class="clear-btn">
                            <i class="fas fa-trash mr-2"></i>Hapus
                        </button>
                    </div>
                    
                    <div class="status-message" id="status-message">
                        Pilih 2 atau 3 fungsi untuk membuat sketch
                    </div>
                </div>
                
                <div id="combine-result" class="combine-result">
                    <!-- Results will be displayed here -->
                </div>
                
                <div class="bg-white border border-gray-200 rounded-xl p-3 mt-4">
                    <h3 class="font-bold text-gray-700 mb-3 text-sm flex items-center">
                        <i class="fas fa-code text-blue-500 mr-2 text-xs"></i> Fungsi yang Tersedia
                    </h3>
                    <div class="table-container">
                        <div id="combine-function-table" class="function-table">
                            <!-- Functions for combine mode will be generated -->
                        </div>
                    </div>
                    <p class="text-xs text-gray-500 mt-3 text-center">
                        Klik pada fungsi untuk memilih/dipilih ulang
                    </p>
                </div>
            </div>
            
            <!-- Tab Content: Contoh Program -->
            <div id="examples-tab" class="tab-content">
                <div class="mb-6">
                    <h3 class="font-bold text-gray-700 mb-3 text-lg">
                        <i class="fas fa-code-branch text-teal-500 mr-2"></i> Contoh Program Arduino
                    </h3>
                    
                    <div class="space-y-4" id="examples-container">
                        <!-- Examples will be loaded here -->
                    </div>
                    
                    <div class="mt-4 text-center">
                        <button id="load-more-examples" class="text-sm bg-teal-100 text-teal-700 px-4 py-2 rounded-full hover:bg-teal-200 transition">
                            <i class="fas fa-sync-alt mr-1"></i> Muat Contoh Lain
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Quick Facts -->
            <div class="mb-6 p-3 bg-teal-50 rounded-xl">
                <h3 class="font-bold text-gray-700 mb-2 text-sm flex items-center">
                    <i class="fas fa-lightbulb text-teal-500 mr-2 text-xs"></i> Fakta Arduino
                </h3>
                <div class="text-xs text-gray-700 space-y-1">
                    <p>• Bahasa Arduino berbasis C/C++ dengan simplifikasi</p>
                    <p>• IDE Arduino bersifat open-source dan gratis</p>
                    <p>• Sketch harus memiliki setup() dan loop()</p>
                    <p>• Pin digital: 0-13, Pin analog: A0-A5</p>
                    <p>• Memori flash: 32KB, SRAM: 2KB, EEPROM: 1KB (Uno)</p>
                </div>
            </div>
            
            <!-- Contoh Kode -->
            <div class="mb-6 p-3 bg-gray-800 text-white rounded-xl">
                <h3 class="font-bold text-white mb-2 text-sm flex items-center">
                    <i class="fas fa-code text-green-500 mr-2 text-xs"></i> Contoh Sketch
                </h3>
                <div class="code-example">
                    <span class="code-comment">// Program untuk LED berkedip</span><br>
                    <span class="code-keyword">void</span> <span class="code-function">setup</span>() {<br>
                    &nbsp;&nbsp;<span class="code-function">pinMode</span>(<span class="code-number">13</span>, <span class="code-variable">OUTPUT</span>);<br>
                    }<br><br>
                    <span class="code-keyword">void</span> <span class="code-function">loop</span>() {<br>
                    &nbsp;&nbsp;<span class="code-function">digitalWrite</span>(<span class="code-number">13</span>, <span class="code-variable">HIGH</span>);<br>
                    &nbsp;&nbsp;<span class="code-function">delay</span>(<span class="code-number">1000</span>);<br>
                    &nbsp;&nbsp;<span class="code-function">digitalWrite</span>(<span class="code-number">13</span>, <span class="code-variable">LOW</span>);<br>
                    &nbsp;&nbsp;<span class="code-function">delay</span>(<span class="code-number">1000</span>);<br>
                    }
                </div>
            </div>
        </main>
        
        <!-- Function Detail Modal -->
        <div id="function-modal" class="function-modal hidden">
            <div class="modal-content">
                <button id="close-modal" class="close-modal">&times;</button>
                <div id="modal-body"></div>
            </div>
        </div>
        
        <!-- Modal untuk Libraries/Advanced -->
        <div id="special-modal" class="function-modal hidden">
            <div class="modal-content">
                <button id="close-special-modal" class="close-modal">&times;</button>
                <div id="special-modal-body"></div>
            </div>
        </div>
        
               <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <a href="../dashboard siswa.html" class="nav-item">
        <i class="fas fa-home nav-icon"></i>
        <span>Beranda</span>
      </a>
      <a href="../soal harian/dashboard soal.html" class="nav-item">
        <i class="fas fa-flask nav-icon"></i>
        <span>Soal Harian</span>
      </a>
      <a href="../ai/nayra.html" class="nav-item">
        <i class="fas fa-robot nav-icon"></i>
        <span>Nayra AI</span>
      </a>
      <a href="../materi harian/kategori materi.html" class="nav-item">
        <i class="fas fa-chalkboard-teacher nav-icon"></i>
        <span>Materi Harian</span>
      </a>
      <a href="../profil/profil.html" class="nav-item">
        <i class="fas fa-user nav-icon"></i>
        <span>Profil</span>
      </a>
    </nav>
    </div>

    <script>
        // Data Fungsi Arduino Lengkap (88 fungsi)
        const arduinoFunctions = [
            // Kategori Tipe Data (15 fungsi)
            { symbol: "int", name: "Integer", number: 1, description: "Tipe data bilangan bulat 16-bit (-32,768 to 32,767)", category: "data-types", colorClass: "data-types", period: 1, group: 1, 
              syntax: "int variable = 0;", example: "int sensorValue = 0;", 
              usage: "Digunakan untuk menyimpan nilai integer. Contoh: counter, nilai sensor, dll." },
            
            { symbol: "float", name: "Float", number: 2, description: "Tipe data bilangan desimal presisi tunggal", category: "data-types", colorClass: "data-types", period: 1, group: 2, 
              syntax: "float variable = 0.0;", example: "float temperature = 25.5;", 
              usage: "Digunakan untuk perhitungan yang membutuhkan angka desimal. Contoh: suhu, tegangan, dll." },
            
            { symbol: "bool", name: "Boolean", number: 3, description: "Tipe data true/false (HIGH/LOW)", category: "data-types", colorClass: "data-types", period: 1, group: 3, 
              syntax: "bool variable = false;", example: "bool ledState = HIGH;", 
              usage: "Digunakan untuk kondisi logika. Nilai: true(1) atau false(0)." },
            
            { symbol: "char", name: "Character", number: 4, description: "Tipe data karakter 8-bit (-128 to 127)", category: "data-types", colorClass: "data-types", period: 1, group: 4, 
              syntax: "char variable = 'A';", example: "char inputChar = 'A';", 
              usage: "Digunakan untuk menyimpan karakter tunggal atau nilai ASCII." },
            
            { symbol: "byte", name: "Byte", number: 5, description: "Tipe data 8-bit (0 to 255)", category: "data-types", colorClass: "data-types", period: 1, group: 5, 
              syntax: "byte variable = 0;", example: "byte data = 255;", 
              usage: "Digunakan untuk data 8-bit tanpa tanda. Efisien untuk memori." },
            
            { symbol: "word", name: "Word", number: 6, description: "Tipe data 16-bit (0 to 65,535)", category: "data-types", colorClass: "data-types", period: 1, group: 6, 
              syntax: "word variable = 0;", example: "word sensorReading = 1023;", 
              usage: "Digunakan untuk nilai 16-bit tanpa tanda. Cocok untuk nilai sensor." },
            
            { symbol: "long", name: "Long Integer", number: 7, description: "Tipe data bilangan bulat 32-bit", category: "data-types", colorClass: "data-types", period: 1, group: 7, 
              syntax: "long variable = 0L;", example: "long timeElapsed = 100000L;", 
              usage: "Digunakan untuk nilai besar seperti waktu dalam milidetik." },
            
            { symbol: "unsigned", name: "Unsigned", number: 8, description: "Tipe data tanpa tanda (hanya positif)", category: "data-types", colorClass: "data-types", period: 1, group: 8, 
              syntax: "unsigned int variable = 0;", example: "unsigned int counter = 0;", 
              usage: "Digunakan untuk nilai yang selalu positif. Contoh: counter, timer." },
            
            { symbol: "double", name: "Double", number: 9, description: "Tipe data bilangan desimal presisi ganda", category: "data-types", colorClass: "data-types", period: 1, group: 9, 
              syntax: "double variable = 0.0;", example: "double preciseValue = 3.14159;", 
              usage: "Sama dengan float di Arduino (karena arsitektur 8-bit)." },
            
            { symbol: "void", name: "Void", number: 10, description: "Tipe data kosong (tidak mengembalikan nilai)", category: "data-types", colorClass: "data-types", period: 1, group: 10, 
              syntax: "void functionName() { }", example: "void setup() { }", 
              usage: "Digunakan untuk fungsi yang tidak mengembalikan nilai." },
            
            { symbol: "String", name: "String Object", number: 11, description: "Objek untuk manipulasi string", category: "data-types", colorClass: "data-types", period: 1, group: 11, 
              syntax: "String variable = \"text\";", example: "String message = \"Hello\";", 
              usage: "Objek untuk manipulasi teks yang mudah. Gunakan dengan bijak karena boros memori." },
            
            { symbol: "array", name: "Array", number: 12, description: "Kumpulan data dengan tipe sama", category: "data-types", colorClass: "data-types", period: 1, group: 12, 
              syntax: "int array[] = {1,2,3};", example: "int pins[] = {2,3,4};", 
              usage: "Digunakan untuk menyimpan kumpulan data. Contoh: kumpulan pin." },
            
            { symbol: "struct", name: "Structure", number: 13, description: "Tipe data kustom yang menggabungkan beberapa tipe", category: "data-types", colorClass: "data-types", period: 1, group: 13, 
              syntax: "struct Name { type field; };", example: "struct Point { int x; int y; };", 
              usage: "Digunakan untuk membuat tipe data kustom yang kompleks." },
            
            { symbol: "const", name: "Constant", number: 14, description: "Konstanta (nilai tidak bisa diubah)", category: "data-types", colorClass: "data-types", period: 1, group: 14, 
              syntax: "const type NAME = value;", example: "const int LED_PIN = 13;", 
              usage: "Digunakan untuk nilai yang tetap. Menghemat memori program." },
            
            { symbol: "enum", name: "Enumeration", number: 15, description: "Tipe data enumerasi", category: "data-types", colorClass: "data-types", period: 1, group: 15, 
              syntax: "enum Name {VAL1, VAL2};", example: "enum State {OFF, ON};", 
              usage: "Digunakan untuk mendefinisikan kumpulan nilai konstan." },
            
            // Kategori Struktur Kontrol (12 fungsi)
            { symbol: "if", name: "If Statement", number: 16, description: "Percabangan jika", category: "control-structures", colorClass: "control-structures", period: 2, group: 1, 
              syntax: "if(condition) { }", example: "if(digitalRead(2)) { digitalWrite(13, HIGH); }", 
              usage: "Eksekusi kode jika kondisi benar." },
            
            { symbol: "else", name: "Else Statement", number: 17, description: "Alternatif dari if", category: "control-structures", colorClass: "control-structures", period: 2, group: 2, 
              syntax: "else { }", example: "if(x>0) { } else { }", 
              usage: "Eksekusi kode jika kondisi if salah." },
            
            { symbol: "else if", name: "Else If", number: 18, description: "Kondisi alternatif tambahan", category: "control-structures", colorClass: "control-structures", period: 2, group: 3, 
              syntax: "else if(condition) { }", example: "if(x>0) { } else if(x<0) { }", 
              usage: "Menambahkan kondisi tambahan setelah if." },
            
            { symbol: "for", name: "For Loop", number: 19, description: "Perulangan for", category: "control-structures", colorClass: "control-structures", period: 2, group: 4, 
              syntax: "for(int i=0; i<10; i++) { }", example: "for(int i=0; i<10; i++) { digitalWrite(i, HIGH); }", 
              usage: "Perulangan dengan jumlah iterasi yang diketahui." },
            
            { symbol: "while", name: "While Loop", number: 20, description: "Perulangan while", category: "control-structures", colorClass: "control-structures", period: 2, group: 5, 
              syntax: "while(condition) { }", example: "while(digitalRead(2)) { delay(100); }", 
              usage: "Perulangan selama kondisi benar." },
            
            { symbol: "do while", name: "Do While Loop", number: 21, description: "Perulangan do-while", category: "control-structures", colorClass: "control-structures", period: 2, group: 6, 
              syntax: "do { } while(condition);", example: "do { } while(x < 10);", 
              usage: "Eksekusi kode minimal sekali, lalu ulangi jika kondisi benar." },
            
            { symbol: "break", name: "Break", number: 22, description: "Keluar dari loop/switch", category: "control-structures", colorClass: "control-structures", period: 2, group: 7, 
              syntax: "break;", example: "for(int i=0; i<10; i++) { if(i==5) break; }", 
              usage: "Menghentikan eksekusi loop atau switch." },
            
            { symbol: "continue", name: "Continue", number: 23, description: "Lanjut ke iterasi berikutnya", category: "control-structures", colorClass: "control-structures", period: 2, group: 8, 
              syntax: "continue;", example: "for(int i=0; i<10; i++) { if(i==5) continue; }", 
              usage: "Melewati sisa kode dalam iterasi saat ini, lanjut ke iterasi berikutnya." },
            
            { symbol: "switch", name: "Switch Case", number: 24, description: "Percabangan multiple", category: "control-structures", colorClass: "control-structures", period: 2, group: 9, 
              syntax: "switch(var) { case 1: break; default: }", example: "switch(buttonState) { case 1: digitalWrite(13, HIGH); break; }", 
              usage: "Percabangan berdasarkan nilai variabel." },
            
            { symbol: "case", name: "Case", number: 25, description: "Kasus dalam switch", category: "control-structures", colorClass: "control-structures", period: 2, group: 10, 
              syntax: "case value:", example: "case 1: digitalWrite(13, HIGH); break;", 
              usage: "Mendefinisikan kasus dalam statement switch." },
            
            { symbol: "default", name: "Default Case", number: 26, description: "Kasus default dalam switch", category: "control-structures", colorClass: "control-structures", period: 2, group: 11, 
              syntax: "default:", example: "default: digitalWrite(13, LOW); break;", 
              usage: "Eksekusi kode jika tidak ada case yang cocok." },
            
            { symbol: "return", name: "Return", number: 27, description: "Mengembalikan nilai dari fungsi", category: "control-structures", colorClass: "control-structures", period: 2, group: 12, 
              syntax: "return value;", example: "int getValue() { return 42; }", 
              usage: "Mengembalikan nilai dari fungsi ke pemanggil." },
            
            // Kategori Fungsi Digital I/O (10 fungsi)
            { symbol: "pinMode", name: "Pin Mode", number: 28, description: "Mengatur mode pin (INPUT/OUTPUT/INPUT_PULLUP)", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 1, 
              syntax: "pinMode(pin, mode);", example: "pinMode(13, OUTPUT);", 
              usage: "Harus dipanggil di setup() untuk mengatur mode pin." },
            
            { symbol: "digitalWrite", name: "Digital Write", number: 29, description: "Menulis nilai digital (HIGH/LOW)", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 2, 
              syntax: "digitalWrite(pin, value);", example: "digitalWrite(13, HIGH);", 
              usage: "Mengatur pin OUTPUT ke HIGH (5V) atau LOW (0V)." },
            
            { symbol: "digitalRead", name: "Digital Read", number: 30, description: "Membaca nilai digital dari pin", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 3, 
              syntax: "digitalRead(pin);", example: "int val = digitalRead(2);", 
              usage: "Membaca nilai pin INPUT (HIGH atau LOW)." },
            
            { symbol: "INPUT", name: "Input Mode", number: 31, description: "Mode pin sebagai input", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 4, 
              syntax: "INPUT", example: "pinMode(2, INPUT);", 
              usage: "Konstanta untuk mode pin sebagai input." },
            
            { symbol: "OUTPUT", name: "Output Mode", number: 32, description: "Mode pin sebagai output", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 5, 
              syntax: "OUTPUT", example: "pinMode(13, OUTPUT);", 
              usage: "Konstanta untuk mode pin sebagai output." },
            
            { symbol: "INPUT_PULLUP", name: "Input Pullup", number: 33, description: "Mode pin input dengan resistor pullup internal", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 6, 
              syntax: "INPUT_PULLUP", example: "pinMode(2, INPUT_PULLUP);", 
              usage: "Mengaktifkan resistor pullup internal (20kΩ) untuk input." },
            
            { symbol: "HIGH", name: "High State", number: 34, description: "Status HIGH (5V atau 3.3V)", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 7, 
              syntax: "HIGH", example: "digitalWrite(13, HIGH);", 
              usage: "Konstanta untuk status HIGH (logika 1)." },
            
            { symbol: "LOW", name: "Low State", number: 35, description: "Status LOW (0V)", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 8, 
              syntax: "LOW", example: "digitalWrite(13, LOW);", 
              usage: "Konstanta untuk status LOW (logika 0)." },
            
            { symbol: "pulseIn", name: "Pulse In", number: 36, description: "Mengukur durasi pulse pada pin", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 9, 
              syntax: "pulseIn(pin, value);", example: "long duration = pulseIn(2, HIGH);", 
              usage: "Mengukur durasi pulse (HIGH atau LOW) dalam mikrodetik." },
            
            { symbol: "pulseInLong", name: "Pulse In Long", number: 37, description: "Mengukur durasi pulse yang panjang", category: "digital-functions", colorClass: "digital-functions", period: 3, group: 10, 
              syntax: "pulseInLong(pin, value);", example: "long duration = pulseInLong(2, HIGH);", 
              usage: "Versi lebih akurat dari pulseIn() untuk durasi panjang." },
            
            // Kategori Fungsi Analog I/O (8 fungsi)
            { symbol: "analogRead", name: "Analog Read", number: 38, description: "Membaca nilai analog (0-1023)", category: "analog-functions", colorClass: "analog-functions", period: 4, group: 1, 
              syntax: "analogRead(pin);", example: "int sensor = analogRead(A0);", 
              usage: "Membaca nilai dari pin analog (10-bit, 0-1023). Hanya pin A0-A5." },
            
            { symbol: "analogWrite", name: "Analog Write", number: 39, description: "Menulis nilai analog (PWM)", category: "analog-functions", colorClass: "analog-functions", period: 4, group: 2, 
              syntax: "analogWrite(pin, value);", example: "analogWrite(9, 128);", 
              usage: "Menulis nilai PWM (0-255) ke pin dengan tanda ~ (3,5,6,9,10,11)." },
            
            { symbol: "analogReference", name: "Analog Reference", number: 40, description: "Mengatur tegangan referensi ADC", category: "analog-functions", colorClass: "analog-functions", period: 4, group: 3, 
              syntax: "analogReference(type);", example: "analogReference(INTERNAL);", 
              usage: "Mengatur tegangan referensi untuk analogRead()." },
            
            { symbol: "DEFAULT", name: "Default Reference", number: 41, description: "Referensi analog default (5V)", category: "analog-functions", colorClass: "analog-functions", period: 4, group: 4, 
              syntax: "DEFAULT", example: "analogReference(DEFAULT);", 
              usage: "Tegangan referensi 5V (Uno) atau 3.3V (board 3.3V)." },
            
            { symbol: "INTERNAL", name: "Internal Reference", number: 42, description: "Referensi internal 1.1V", category: "analog-functions", colorClass: "analog-functions", period: 4, group: 5, 
              syntax: "INTERNAL", example: "analogReference(INTERNAL);", 
              usage: "Referensi internal 1.1V pada ATmega168/328." },
            
            { symbol: "EXTERNAL", name: "External Reference", number: 43, description: "Referensi eksternal", category: "analog-functions", colorClass: "analog-functions", period: 4, group: 6, 
              syntax: "EXTERNAL", example: "analogReference(EXTERNAL);", 
              usage: "Tegangan yang diterapkan ke pin AREF (0-5V)." },
            
            { symbol: "tone", name: "Tone", number: 44, description: "Menghasilkan gelombang square dengan frekuensi tertentu", category: "analog-functions", colorClass: "analog-functions", period: 4, group: 7, 
              syntax: "tone(pin, frequency);", example: "tone(8, 1000);", 
              usage: "Menghasilkan nada pada pin. Dapat mengganggu PWM pada pin 3 dan 11." },
            
            { symbol: "noTone", name: "No Tone", number: 45, description: "Menghentikan output tone", category: "analog-functions", colorClass: "analog-functions", period: 4, group: 8, 
              syntax: "noTone(pin);", example: "noTone(8);", 
              usage: "Menghentikan output dari tone()." },
            
            // Kategori Fungsi Waktu (8 fungsi)
            { symbol: "delay", name: "Delay", number: 46, description: "Menunda eksekusi (milidetik)", category: "time-functions", colorClass: "time-functions", period: 5, group: 1, 
              syntax: "delay(ms);", example: "delay(1000); // 1 detik", 
              usage: "Menghentikan program selama waktu tertentu (ms)." },
            
            { symbol: "delayMicroseconds", name: "Delay Microseconds", number: 47, description: "Menunda eksekusi (mikrodetik)", category: "time-functions", colorClass: "time-functions", period: 5, group: 2, 
              syntax: "delayMicroseconds(us);", example: "delayMicroseconds(100);", 
              usage: "Menghentikan program selama waktu tertentu (μs)." },
            
            { symbol: "millis", name: "Milliseconds", number: 48, description: "Waktu sejak program mulai (ms)", category: "time-functions", colorClass: "time-functions", period: 5, group: 3, 
              syntax: "millis();", example: "unsigned long time = millis();", 
              usage: "Mengembalikan waktu sejak program mulai dalam milidetik. Reset setelah 50 hari." },
            
            { symbol: "micros", name: "Microseconds", number: 49, description: "Waktu sejak program mulai (μs)", category: "time-functions", colorClass: "time-functions", period: 5, group: 4, 
              syntax: "micros();", example: "unsigned long time = micros();", 
              usage: "Mengembalikan waktu sejak program mulai dalam mikrodetik. Reset setelah 70 menit." },
            
            { symbol: "delay()", name: "Delay Blocking", number: 50, description: "Penundaan blocking", category: "time-functions", colorClass: "time-functions", period: 5, group: 5, 
              syntax: "delay(ms);", example: "delay(500);", 
              usage: "Blocking delay (menghentikan semua eksekusi)." },
            
            { symbol: "nonBlockDelay", name: "Non-Blocking Delay", number: 51, description: "Pola delay non-blocking", category: "time-functions", colorClass: "time-functions", period: 5, group: 6, 
              syntax: "if(millis() - prev > interval) { }", example: "if(millis() - prevTime > 1000) { }", 
              usage: "Pola untuk delay tanpa menghentikan program." },
            
            { symbol: "time", name: "Time Functions", number: 52, description: "Fungsi-fungsi waktu", category: "time-functions", colorClass: "time-functions", period: 5, group: 7, 
              syntax: "millis(), micros()", example: "unsigned long currentTime = millis();", 
              usage: "Fungsi untuk mengukur waktu dalam program." },
            
            { symbol: "interval", name: "Interval Timing", number: 53, description: "Pola timing interval", category: "time-functions", colorClass: "time-functions", period: 5, group: 8, 
              syntax: "static unsigned long prev = 0;", example: "if(millis() - prev > 1000) { prev = millis(); }", 
              usage: "Pola untuk eksekusi kode pada interval tertentu." },
            
            // Kategori Fungsi Matematika (12 fungsi)
            { symbol: "abs", name: "Absolute", number: 54, description: "Nilai absolut (positif)", category: "math-functions", colorClass: "math-functions", period: 6, group: 1, 
              syntax: "abs(x);", example: "int x = abs(-10); // x = 10", 
              usage: "Mengembalikan nilai absolut (positif) dari suatu angka." },
            
            { symbol: "constrain", name: "Constrain", number: 55, description: "Membatasi nilai dalam range", category: "math-functions", colorClass: "math-functions", period: 6, group: 2, 
              syntax: "constrain(value, min, max);", example: "int limited = constrain(sensor, 0, 100);", 
              usage: "Membatasi nilai agar berada dalam range min-max." },
            
            { symbol: "map", name: "Map", number: 56, description: "Memetakan nilai dari range ke range lain", category: "math-functions", colorClass: "math-functions", period: 6, group: 3, 
              syntax: "map(value, fromLow, fromHigh, toLow, toHigh);", example: "int brightness = map(sensor, 0, 1023, 0, 255);", 
              usage: "Mengubah nilai dari satu range ke range lain. Tidak membatasi nilai." },
            
            { symbol: "max", name: "Maximum", number: 57, description: "Nilai maksimum dari dua angka", category: "math-functions", colorClass: "math-functions", period: 6, group: 4, 
              syntax: "max(x, y);", example: "int m = max(10, 20); // m = 20", 
              usage: "Mengembalikan nilai terbesar dari dua angka." },
            
            { symbol: "min", name: "Minimum", number: 58, description: "Nilai minimum dari dua angka", category: "math-functions", colorClass: "math-functions", period: 6, group: 5, 
              syntax: "min(x, y);", example: "int m = min(10, 20); // m = 10", 
              usage: "Mengembalikan nilai terkecil dari dua angka." },
            
            { symbol: "pow", name: "Power", number: 59, description: "Pangkat (eksponensial)", category: "math-functions", colorClass: "math-functions", period: 6, group: 6, 
              syntax: "pow(base, exponent);", example: "float result = pow(2, 3); // 8", 
              usage: "Menghitung pangkat dari suatu angka." },
            
            { symbol: "sq", name: "Square", number: 60, description: "Kuadrat", category: "math-functions", colorClass: "math-functions", period: 6, group: 7, 
              syntax: "sq(x);", example: "float result = sq(5); // 25", 
              usage: "Menghitung kuadrat dari suatu angka." },
            
            { symbol: "sqrt", name: "Square Root", number: 61, description: "Akar kuadrat", category: "math-functions", colorClass: "math-functions", period: 6, group: 8, 
              syntax: "sqrt(x);", example: "float result = sqrt(25); // 5", 
              usage: "Menghitung akar kuadrat dari suatu angka." },
            
            { symbol: "random", name: "Random", number: 62, description: "Membangkitkan bilangan acak", category: "math-functions", colorClass: "math-functions", period: 6, group: 9, 
              syntax: "random(max); random(min, max);", example: "int rnd = random(0, 100);", 
              usage: "Mengembalikan bilangan acak dalam range tertentu." },
            
            { symbol: "randomSeed", name: "Random Seed", number: 63, description: "Seed untuk generator acak", category: "math-functions", colorClass: "math-functions", period: 6, group: 10, 
              syntax: "randomSeed(seed);", example: "randomSeed(analogRead(0));", 
              usage: "Menginisialisasi generator bilangan acak dengan seed." },
            
            { symbol: "sin", name: "Sine", number: 64, description: "Fungsi sinus", category: "math-functions", colorClass: "math-functions", period: 6, group: 11, 
              syntax: "sin(radian);", example: "float s = sin(angle);", 
              usage: "Menghitung sinus dari sudut dalam radian." },
            
            { symbol: "cos", name: "Cosine", number: 65, description: "Fungsi cosinus", category: "math-functions", colorClass: "math-functions", period: 6, group: 12, 
              syntax: "cos(radian);", example: "float c = cos(angle);", 
              usage: "Menghitung cosinus dari sudut dalam radian." },
            
            // Kategori Komunikasi (8 fungsi)
            { symbol: "Serial.begin", name: "Serial Begin", number: 66, description: "Memulai komunikasi serial", category: "communication", colorClass: "communication", period: 7, group: 1, 
              syntax: "Serial.begin(baudrate);", example: "Serial.begin(9600);", 
              usage: "Menginisialisasi komunikasi serial dengan baud rate tertentu." },
            
            { symbol: "Serial.print", name: "Serial Print", number: 67, description: "Mencetak data ke serial", category: "communication", colorClass: "communication", period: 7, group: 2, 
              syntax: "Serial.print(data);", example: "Serial.print(\"Hello\");", 
              usage: "Mengirim data ke komputer melalui serial." },
            
            { symbol: "Serial.println", name: "Serial Print Line", number: 68, description: "Mencetak data dengan newline", category: "communication", colorClass: "communication", period: 7, group: 3, 
              syntax: "Serial.println(data);", example: "Serial.println(\"Hello\");", 
              usage: "Sama seperti Serial.print() tetapi menambahkan newline di akhir." },
            
            { symbol: "Serial.read", name: "Serial Read", number: 69, description: "Membaca data dari serial", category: "communication", colorClass: "communication", period: 7, group: 4, 
              syntax: "Serial.read();", example: "char data = Serial.read();", 
              usage: "Membaca satu byte dari buffer serial." },
            
            { symbol: "Serial.available", name: "Serial Available", number: 70, description: "Memeriksa data yang tersedia", category: "communication", colorClass: "communication", period: 7, group: 5, 
              syntax: "Serial.available();", example: "if(Serial.available() > 0) { }", 
              usage: "Mengembalikan jumlah byte yang tersedia untuk dibaca." },
            
            { symbol: "Serial.write", name: "Serial Write", number: 71, description: "Menulis data biner ke serial", category: "communication", colorClass: "communication", period: 7, group: 6, 
              syntax: "Serial.write(data);", example: "Serial.write(0x48);", 
              usage: "Mengirim data biner (byte) melalui serial." },
            
            { symbol: "Serial.flush", name: "Serial Flush", number: 72, description: "Menunggu transmisi serial selesai", category: "communication", colorClass: "communication", period: 7, group: 7, 
              syntax: "Serial.flush();", example: "Serial.flush();", 
              usage: "Menunggu hingga transmisi data serial selesai." },
            
            { symbol: "Serial.end", name: "Serial End", number: 73, description: "Mengakhiri komunikasi serial", category: "communication", colorClass: "communication", period: 7, group: 8, 
              syntax: "Serial.end();", example: "Serial.end();", 
              usage: "Menghentikan komunikasi serial." },
            
            // Kategori Advanced (15 fungsi)
            { symbol: "setup", name: "Setup Function", number: 74, description: "Fungsi setup (dijalankan sekali)", category: "advanced", colorClass: "advanced", period: 8, group: 1, 
              syntax: "void setup() { }", example: "void setup() { pinMode(13, OUTPUT); }", 
              usage: "Dijalankan sekali saat program mulai. Untuk inisialisasi." },
            
            { symbol: "loop", name: "Loop Function", number: 75, description: "Fungsi loop (dijalankan terus)", category: "advanced", colorClass: "advanced", period: 8, group: 2, 
              syntax: "void loop() { }", example: "void loop() { digitalWrite(13, HIGH); }", 
              usage: "Dijalankan berulang setelah setup(). Program utama." },
            
            { symbol: "attachInterrupt", name: "Attach Interrupt", number: 76, description: "Mengatur interrupt pada pin", category: "advanced", colorClass: "advanced", period: 8, group: 3, 
              syntax: "attachInterrupt(digitalPinToInterrupt(pin), ISR, mode);", example: "attachInterrupt(digitalPinToInterrupt(2), blink, RISING);", 
              usage: "Mengaitkan fungsi ISR (Interrupt Service Routine) ke interrupt." },
            
            { symbol: "detachInterrupt", name: "Detach Interrupt", number: 77, description: "Menghapus interrupt dari pin", category: "advanced", colorClass: "advanced", period: 8, group: 4, 
              syntax: "detachInterrupt(digitalPinToInterrupt(pin));", example: "detachInterrupt(digitalPinToInterrupt(2));", 
              usage: "Menghapus interrupt dari pin." },
            
            { symbol: "interrupts", name: "Interrupts Enable", number: 78, description: "Mengaktifkan interrupt", category: "advanced", colorClass: "advanced", period: 8, group: 5, 
              syntax: "interrupts();", example: "interrupts();", 
              usage: "Mengaktifkan semua interrupt." },
            
            { symbol: "noInterrupts", name: "No Interrupts", number: 79, description: "Menonaktifkan interrupt", category: "advanced", colorClass: "advanced", period: 8, group: 6, 
              syntax: "noInterrupts();", example: "noInterrupts();", 
              usage: "Menonaktifkan semua interrupt." },
            
            { symbol: "sizeof", name: "Size Of", number: 80, description: "Ukuran variabel/array dalam byte", category: "advanced", colorClass: "advanced", period: 8, group: 7, 
              syntax: "sizeof(variable);", example: "int size = sizeof(array);", 
              usage: "Mengembalikan ukuran variabel atau array dalam byte." },
            
            { symbol: "bitRead", name: "Bit Read", number: 81, description: "Membaca bit tertentu", category: "advanced", colorClass: "advanced", period: 8, group: 8, 
              syntax: "bitRead(x, n);", example: "int bit = bitRead(value, 3);", 
              usage: "Membaca bit ke-n dari sebuah angka." },
            
            { symbol: "bitWrite", name: "Bit Write", number: 82, description: "Menulis ke bit tertentu", category: "advanced", colorClass: "advanced", period: 8, group: 9, 
              syntax: "bitWrite(x, n, b);", example: "bitWrite(value, 3, 1);", 
              usage: "Menulis nilai (0 atau 1) ke bit ke-n dari sebuah angka." },
            
            { symbol: "bitSet", name: "Bit Set", number: 83, description: "Mengatur bit menjadi 1", category: "advanced", colorClass: "advanced", period: 8, group: 10, 
              syntax: "bitSet(x, n);", example: "bitSet(value, 3);", 
              usage: "Mengatur bit ke-n menjadi 1." },
            
            { symbol: "bitClear", name: "Bit Clear", number: 84, description: "Mengatur bit menjadi 0", category: "advanced", colorClass: "advanced", period: 8, group: 11, 
              syntax: "bitClear(x, n);", example: "bitClear(value, 3);", 
              usage: "Mengatur bit ke-n menjadi 0." },
            
            { symbol: "bit", name: "Bit Value", number: 85, description: "Nilai bit pada posisi tertentu", category: "advanced", colorClass: "advanced", period: 8, group: 12, 
              syntax: "bit(n);", example: "int mask = bit(3); // 8", 
              usage: "Menghasilkan angka dengan hanya bit ke-n yang di-set." },
            
            { symbol: "lowByte", name: "Low Byte", number: 86, description: "Byte rendah dari sebuah word", category: "advanced", colorClass: "advanced", period: 8, group: 13, 
              syntax: "lowByte(x);", example: "byte lb = lowWord(0x1234); // 0x34", 
              usage: "Mengekstrak byte rendah (LSB) dari sebuah word." },
            
            { symbol: "highByte", name: "High Byte", number: 87, description: "Byte tinggi dari sebuah word", category: "advanced", colorClass: "advanced", period: 8, group: 14, 
              syntax: "highByte(x);", example: "byte hb = highWord(0x1234); // 0x12", 
              usage: "Mengekstrak byte tinggi (MSB) dari sebuah word." },
            
            { symbol: "word", name: "Make Word", number: 88, description: "Membuat word dari dua byte", category: "advanced", colorClass: "advanced", period: 8, group: 15, 
              syntax: "word(h, l); word(value);", example: "word w = word(0x12, 0x34);", 
              usage: "Menggabungkan dua byte menjadi satu word." }
        ];

        // Data Sketch Contoh
        const exampleSketches = [
            // LED Blink
            { functions: ["pinMode", "digitalWrite", "delay"], name: "LED Blink", 
              code: `void setup() {\n  pinMode(13, OUTPUT);\n}\n\nvoid loop() {\n  digitalWrite(13, HIGH);\n  delay(1000);\n  digitalWrite(13, LOW);\n  delay(1000);\n}`,
              description: "Program sederhana untuk membuat LED berkedip setiap 1 detik.",
              properties: ["Pin 13 sebagai OUTPUT", "Delay 1000ms", "HIGH/LOW toggle", "Basic I/O"],
              difficulty: "Pemula",
              components: ["LED", "Resistor 220Ω", "Arduino Uno"] },
            
            // Button Control
            { functions: ["pinMode", "digitalRead", "digitalWrite", "if"], name: "Button Control", 
              code: `void setup() {\n  pinMode(2, INPUT_PULLUP);\n  pinMode(13, OUTPUT);\n}\n\nvoid loop() {\n  if(digitalRead(2) == LOW) {\n    digitalWrite(13, HIGH);\n  } else {\n    digitalWrite(13, LOW);\n  }\n}`,
              description: "Mengontrol LED dengan tombol push button menggunakan INPUT_PULLUP.",
              properties: ["Input: Pin 2", "Output: Pin 13", "Kondisi if-else", "Digital reading"],
              difficulty: "Pemula",
              components: ["LED", "Resistor 220Ω", "Push button", "Arduino Uno"] },
            
            // PWM Fading
            { functions: ["pinMode", "analogWrite", "for", "delay"], name: "PWM Fading", 
              code: `void setup() {\n  pinMode(9, OUTPUT);\n}\n\nvoid loop() {\n  for(int i=0; i<=255; i++) {\n    analogWrite(9, i);\n    delay(10);\n  }\n  for(int i=255; i>=0; i--) {\n    analogWrite(9, i);\n    delay(10);\n  }\n}`,
              description: "Efek fading LED menggunakan PWM (Pulse Width Modulation).",
              properties: ["PWM Pin 9", "For loop increment", "Delay 10ms", "Fading effect"],
              difficulty: "Menengah",
              components: ["LED", "Resistor 220Ω", "Arduino Uno"] },
            
            // Serial Monitor
            { functions: ["Serial.begin", "Serial.print", "analogRead", "delay"], name: "Serial Monitor", 
              code: `void setup() {\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  int sensor = analogRead(A0);\n  Serial.print("Sensor Value: ");\n  Serial.println(sensor);\n  delay(500);\n}`,
              description: "Membaca sensor analog dan menampilkan ke Serial Monitor.",
              properties: ["Baud rate 9600", "Analog read A0", "Serial output", "Delay 500ms"],
              difficulty: "Pemula",
              components: ["Potensiometer", "Arduino Uno"] },
            
            // Temperature Sensor
            { functions: ["float", "analogRead", "map", "Serial.print"], name: "Temperature Sensor", 
              code: `void setup() {\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  int reading = analogRead(A0);\n  float voltage = reading * (5.0 / 1023.0);\n  float temperature = voltage * 100;\n  Serial.print("Temperature: ");\n  Serial.print(temperature);\n  Serial.println(" C");\n  delay(1000);\n}`,
              description: "Membaca sensor suhu LM35 dan mengonversi ke Celsius.",
              properties: ["LM35 Sensor", "Analog conversion", "Float calculation", "Serial output"],
              difficulty: "Menengah",
              components: ["LM35 Temperature Sensor", "Arduino Uno"] },
            
            // Random LED
            { functions: ["pinMode", "digitalWrite", "random", "delay"], name: "Random LED", 
              code: `void setup() {\n  pinMode(13, OUTPUT);\n  randomSeed(analogRead(0));\n}\n\nvoid loop() {\n  int rnd = random(100, 1000);\n  digitalWrite(13, HIGH);\n  delay(rnd);\n  digitalWrite(13, LOW);\n  delay(rnd);\n}`,
              description: "LED berkedip dengan interval waktu acak.",
              properties: ["Random delay", "Seed from analog pin", "Random range 100-1000ms", "LED toggle"],
              difficulty: "Menengah",
              components: ["LED", "Resistor 220Ω", "Arduino Uno"] },
            
            // Multiple LEDs
            { functions: ["pinMode", "digitalWrite", "for", "delay"], name: "LED Chaser", 
              code: `int pins[] = {2,3,4,5,6,7,8,9};\nvoid setup() {\n  for(int i=0; i<8; i++) {\n    pinMode(pins[i], OUTPUT);\n  }\n}\n\nvoid loop() {\n  for(int i=0; i<8; i++) {\n    digitalWrite(pins[i], HIGH);\n    delay(100);\n    digitalWrite(pins[i], LOW);\n  }\n  for(int i=7; i>=0; i--) {\n    digitalWrite(pins[i], HIGH);\n    delay(100);\n    digitalWrite(pins[i], LOW);\n  }\n}`,
              description: "Efek running light/chaser pada 8 LED (bergerak bolak-balik).",
              properties: ["Array of pins", "For loop control", "Delay 100ms", "Running light effect"],
              difficulty: "Menengah",
              components: ["8x LED", "8x Resistor 220Ω", "Arduino Uno"] },
            
            // Ultrasonic Sensor
            { functions: ["pinMode", "digitalWrite", "digitalRead", "pulseIn", "Serial.print"], name: "Ultrasonic Sensor", 
              code: `const int trigPin = 9;\nconst int echoPin = 10;\nvoid setup() {\n  Serial.begin(9600);\n  pinMode(trigPin, OUTPUT);\n  pinMode(echoPin, INPUT);\n}\nvoid loop() {\n  digitalWrite(trigPin, LOW);\n  delayMicroseconds(2);\n  digitalWrite(trigPin, HIGH);\n  delayMicroseconds(10);\n  digitalWrite(trigPin, LOW);\n  long duration = pulseIn(echoPin, HIGH);\n  int distance = duration * 0.034 / 2;\n  Serial.print("Distance: ");\n  Serial.print(distance);\n  Serial.println(" cm");\n  delay(100);\n}`,
              description: "Mengukur jarak menggunakan sensor ultrasonik HC-SR04.",
              properties: ["Trig Pin 9", "Echo Pin 10", "PulseIn measurement", "Serial output"],
              difficulty: "Menengah",
              components: ["HC-SR04 Ultrasonic", "Arduino Uno"] }
        ];

        // DOM Elements
        const functionTableContainer = document.getElementById('function-table');
        const combineFunctionTableContainer = document.getElementById('combine-function-table');
        const functionModal = document.getElementById('function-modal');
        const specialModal = document.getElementById('special-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const closeSpecialModalBtn = document.getElementById('close-special-modal');
        const modalBody = document.getElementById('modal-body');
        const specialModalBody = document.getElementById('special-modal-body');
        const searchInput = document.getElementById('search-function');
        const totalFunctionsSpan = document.getElementById('total-functions');
        const showLibrariesBtn = document.getElementById('show-libraries');
        const showAdvancedBtn = document.getElementById('show-advanced');
        const selectedFunctionsContainer = document.getElementById('selected-functions');
        const emptySelectionMsg = document.getElementById('empty-selection');
        const combineBtn = document.getElementById('combine-btn');
        const clearBtn = document.getElementById('clear-btn');
        const combineResult = document.getElementById('combine-result');
        const statusMessage = document.getElementById('status-message');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const examplesContainer = document.getElementById('examples-container');
        const loadMoreExamplesBtn = document.getElementById('load-more-examples');
        const categoryFilterBtns = document.querySelectorAll('.category-btn');

        // State untuk sistem pembuatan sketch
        let selectedFunctions = [];
        let currentTab = 'table';
        let currentCategoryFilter = 'all';

        // Inisialisasi Tabel Fungsi
        function initFunctionTable() {
            // Kosongkan kontainer
            functionTableContainer.innerHTML = '';
            
            // Buat 9 baris x 18 kolom
            for (let period = 1; period <= 9; period++) {
                for (let group = 1; group <= 18; group++) {
                    const func = findFunctionByPosition(period, group);
                    
                    const functionDiv = document.createElement('div');
                    functionDiv.className = `function-cell ${func ? func.colorClass : 'bg-transparent'}`;
                    
                    if (func) {
                        functionDiv.dataset.symbol = func.symbol;
                        functionDiv.dataset.number = func.number;
                        functionDiv.dataset.period = period;
                        functionDiv.dataset.group = group;
                        functionDiv.dataset.category = func.category;
                        
                        functionDiv.innerHTML = `
                            <div class="function-number">${func.number}</div>
                            <div class="function-symbol">${func.symbol}</div>
                            <div class="function-name">${func.name}</div>
                        `;
                        
                        functionDiv.addEventListener('click', () => showFunctionDetails(func));
                    } else {
                        // Kosong, tapi bisa berisi placeholder
                        if (period === 1 && group === 17) {
                            functionDiv.innerHTML = `<div class="text-xs text-gray-400">LIB</div>`;
                            functionDiv.classList.add('bg-gray-100');
                            functionDiv.addEventListener('click', showLibraries);
                        } else if (period === 1 && group === 18) {
                            functionDiv.innerHTML = `<div class="text-xs text-gray-400">ADV</div>`;
                            functionDiv.classList.add('bg-gray-100');
                            functionDiv.addEventListener('click', showAdvanced);
                        } else {
                            functionDiv.style.visibility = 'hidden';
                        }
                    }
                    
                    functionTableContainer.appendChild(functionDiv);
                }
            }
            
            // Inisialisasi tabel untuk mode combine
            initCombineFunctionTable();
            
            // Load contoh program
            loadExamples();
            
            // Hitung total fungsi yang ditampilkan
            totalFunctionsSpan.textContent = arduinoFunctions.length;
            
            // Setup event listeners
            setupEventListeners();
        }

        // Inisialisasi tabel untuk mode combine
        function initCombineFunctionTable() {
            combineFunctionTableContainer.innerHTML = '';
            
            // Tampilkan semua fungsi dalam grid 6x10
            const functionsForCombine = arduinoFunctions.slice(0, 60); // Batasi untuk tampilan yang lebih baik
            
            for (let i = 0; i < 60; i++) {
                const functionDiv = document.createElement('div');
                
                if (i < functionsForCombine.length) {
                    const func = functionsForCombine[i];
                    functionDiv.className = `function-cell ${func.colorClass}`;
                    functionDiv.dataset.symbol = func.symbol;
                    functionDiv.dataset.number = func.number;
                    functionDiv.dataset.category = func.category;
                    
                    functionDiv.innerHTML = `
                        <div class="function-number">${func.number}</div>
                        <div class="function-symbol">${func.symbol}</div>
                    `;
                    
                    functionDiv.addEventListener('click', () => selectFunctionForCombination(func));
                } else {
                    functionDiv.style.visibility = 'hidden';
                }
                
                combineFunctionTableContainer.appendChild(functionDiv);
            }
            
            // Set grid template untuk tampilan yang lebih baik
            combineFunctionTableContainer.style.gridTemplateColumns = 'repeat(10, 1fr)';
        }

        // Load contoh program
        function loadExamples() {
            examplesContainer.innerHTML = '';
            
            // Tampilkan 3 contoh pertama
            const examplesToShow = exampleSketches.slice(0, 3);
            
            examplesToShow.forEach((sketch, index) => {
                const exampleCard = document.createElement('div');
                exampleCard.className = 'bg-white border border-gray-200 rounded-xl p-4 shadow-sm';
                exampleCard.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-gray-800">${sketch.name}</h4>
                        <span class="text-xs bg-${sketch.difficulty === 'Pemula' ? 'green' : 'yellow'}-100 text-${sketch.difficulty === 'Pemula' ? 'green' : 'yellow'}-700 px-2 py-1 rounded-full">
                            ${sketch.difficulty}
                        </span>
                    </div>
                    <p class="text-sm text-gray-600 mb-3">${sketch.description}</p>
                    <div class="bg-gray-800 text-white rounded-lg p-3 mb-3 font-mono text-xs overflow-x-auto">
                        <pre>${sketch.code}</pre>
                    </div>
                    <div class="flex justify-between items-center text-xs">
                        <div>
                            <span class="text-gray-500">Fungsi: </span>
                            <span class="font-medium">${sketch.functions.join(", ")}</span>
                        </div>
                        <button class="text-blue-600 font-medium" onclick="loadExampleDetail(${index})">
                            Lihat Detail →
                        </button>
                    </div>
                `;
                examplesContainer.appendChild(exampleCard);
            });
        }

        // Load detail contoh program
        window.loadExampleDetail = function(index) {
            const sketch = exampleSketches[index];
            
            // Tampilkan dalam modal
            modalBody.innerHTML = `
                <div class="p-4">
                    <h2 class="text-xl font-bold text-gray-800 mb-2">${sketch.name}</h2>
                    <p class="text-gray-600 mb-4">${sketch.description}</p>
                    
                    <div class="mb-4">
                        <h3 class="font-bold text-gray-700 mb-2">Kode Program:</h3>
                        <div class="bg-gray-800 text-white rounded-lg p-4 font-mono text-sm overflow-x-auto">
                            <pre class="whitespace-pre-wrap">${sketch.code}</pre>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <h3 class="font-bold text-gray-700 mb-1">Komponen:</h3>
                            <ul class="text-sm text-gray-600 list-disc pl-4">
                                ${sketch.components.map(comp => `<li>${comp}</li>`).join('')}
                            </ul>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-700 mb-1">Fungsi:</h3>
                            <div class="flex flex-wrap gap-1">
                                ${sketch.functions.map(func => `<span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded">${func}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <h3 class="font-bold text-blue-700 mb-1">Cara Kerja:</h3>
                        <p class="text-sm text-blue-800">${getSketchExplanation(sketch)}</p>
                    </div>
                    
                    <button onclick="copyExampleCode(${index})" class="w-full mt-4 bg-green-500 text-white py-2 rounded-lg font-bold">
                        <i class="fas fa-copy mr-2"></i>Salin Kode
                    </button>
                </div>
            `;
            
            functionModal.classList.remove('hidden');
        };

        // Salin kode contoh
        window.copyExampleCode = function(index) {
            const sketch = exampleSketches[index];
            navigator.clipboard.writeText(sketch.code).then(() => {
                alert('Kode berhasil disalin ke clipboard!');
            });
        };

        // Dapatkan penjelasan sketch
        function getSketchExplanation(sketch) {
            const explanations = {
                "LED Blink": "Program ini mengedipkan LED dengan mengatur pin 13 sebagai OUTPUT, lalu mengatur HIGH (menyalakan) dan LOW (mematikan) dengan delay 1 detik.",
                "Button Control": "Program membaca status tombol di pin 2. Jika tombol ditekan (LOW karena PULLUP), LED di pin 13 menyala. Jika tidak, LED mati.",
                "PWM Fading": "Program menggunakan PWM untuk mengatur kecerahan LED secara bertahap dari 0 ke 255 dan kembali ke 0, menciptakan efek fading.",
                "Serial Monitor": "Program membaca nilai analog dari pin A0 dan menampilkannya ke Serial Monitor setiap 500ms.",
                "Temperature Sensor": "Mengkonversi pembacaan analog dari LM35 (10mV per °C) ke suhu dalam Celsius dan menampilkan ke Serial Monitor.",
                "Random LED": "LED berkedip dengan interval acak antara 100-1000ms. randomSeed() diinisialisasi dengan pembacaan pin analog untuk keacakan yang benar.",
                "LED Chaser": "Program menyalakan 8 LED secara berurutan dari kiri ke kanan dan sebaliknya, menciptakan efek running light.",
                "Ultrasonic Sensor": "Mengirim pulsa ultrasonik dan mengukur waktu pantul untuk menghitung jarak. Hasil ditampilkan ke Serial Monitor."
            };
            
            return explanations[sketch.name] || "Program ini menggunakan fungsi Arduino untuk membuat aplikasi yang berguna.";
        }

        // Cari fungsi berdasarkan posisi
        function findFunctionByPosition(period, group) {
            return arduinoFunctions.find(func => 
                func.period === period && 
                func.group === group
            );
        }

        // Filter fungsi berdasarkan kategori
        function filterFunctionsByCategory(category) {
            const allCells = document.querySelectorAll('#function-table .function-cell');
            
            allCells.forEach(cell => {
                if (cell.dataset.symbol) {
                    if (category === 'all' || cell.dataset.category === category) {
                        cell.style.display = 'flex';
                        cell.style.opacity = '1';
                        cell.style.transform = 'scale(1)';
                    } else {
                        cell.style.display = 'none';
                    }
                }
            });
            
            // Update count
            if (category === 'all') {
                totalFunctionsSpan.textContent = arduinoFunctions.length;
            } else {
                const count = arduinoFunctions.filter(f => f.category === category).length;
                totalFunctionsSpan.textContent = count;
            }
        }

        // Pilih fungsi untuk kombinasi
        function selectFunctionForCombination(func) {
            // Cek apakah fungsi sudah dipilih
            const existingIndex = selectedFunctions.findIndex(f => f.symbol === func.symbol);
            
            if (existingIndex !== -1) {
                // Hapus fungsi jika sudah dipilih
                selectedFunctions.splice(existingIndex, 1);
            } else {
                // Tambahkan fungsi jika belum dipilih (maksimal 3)
                if (selectedFunctions.length < 3) {
                    selectedFunctions.push(func);
                } else {
                    showStatusMessage("Maksimal 3 fungsi yang dapat digabungkan", "error");
                    return;
                }
            }
            
            // Perbarui tampilan fungsi yang dipilih
            updateSelectedFunctionsDisplay();
            
            // Perbarui status tombol gabungkan
            updateCombineButton();
            
            // Perbarui status message
            updateStatusMessage();
            
            // Highlight fungsi di tabel
            highlightSelectedFunctions();
        }

        // Perbarui tampilan fungsi yang dipilih
        function updateSelectedFunctionsDisplay() {
            selectedFunctionsContainer.innerHTML = '';
            
            if (selectedFunctions.length === 0) {
                emptySelectionMsg.style.display = 'block';
                return;
            }
            
            emptySelectionMsg.style.display = 'none';
            
            selectedFunctions.forEach((func, index) => {
                const badge = document.createElement('div');
                badge.className = 'selected-function-badge';
                badge.innerHTML = `
                    ${func.symbol} - ${func.name}
                    <button class="remove-btn" data-index="${index}">&times;</button>
                `;
                
                badge.querySelector('.remove-btn').addEventListener('click', (e) => {
                    e.stopPropagation();
                    selectedFunctions.splice(index, 1);
                    updateSelectedFunctionsDisplay();
                    updateCombineButton();
                    updateStatusMessage();
                    highlightSelectedFunctions();
                });
                
                selectedFunctionsContainer.appendChild(badge);
            });
        }

        // Highlight fungsi yang dipilih di tabel
        function highlightSelectedFunctions() {
            // Reset semua fungsi di tabel combine
            document.querySelectorAll('#combine-function-table .function-cell').forEach(cell => {
                cell.classList.remove('selected');
            });
            
            // Highlight fungsi yang dipilih
            selectedFunctions.forEach(func => {
                const cells = document.querySelectorAll(`#combine-function-table [data-symbol="${func.symbol}"]`);
                cells.forEach(cell => {
                    cell.classList.add('selected');
                });
            });
        }

        // Perbarui status tombol gabungkan
        function updateCombineButton() {
            if (selectedFunctions.length >= 2) {
                combineBtn.disabled = false;
                combineBtn.innerHTML = `<i class="fas fa-bolt mr-2"></i>Generate Sketch (${selectedFunctions.length})`;
            } else {
                combineBtn.disabled = true;
                combineBtn.innerHTML = `<i class="fas fa-bolt mr-2"></i>Generate Sketch`;
            }
        }

        // Perbarui status message
        function updateStatusMessage() {
            if (selectedFunctions.length === 0) {
                statusMessage.textContent = "Pilih 2 atau 3 fungsi untuk membuat sketch";
            } else if (selectedFunctions.length === 1) {
                statusMessage.textContent = "Pilih 1 fungsi lagi untuk membuat sketch";
            } else if (selectedFunctions.length === 2) {
                statusMessage.textContent = "Klik 'Generate Sketch' untuk membuat program dari 2 fungsi";
            } else if (selectedFunctions.length === 3) {
                statusMessage.textContent = "Klik 'Generate Sketch' untuk membuat program dari 3 fungsi";
            }
        }

        // Tampilkan pesan status sementara
        function showStatusMessage(message, type = "info") {
            const originalMessage = statusMessage.textContent;
            statusMessage.textContent = message;
            statusMessage.style.color = type === "error" ? "#fecaca" : "rgba(255, 255, 255, 0.8)";
            
            setTimeout(() => {
                statusMessage.textContent = originalMessage;
                statusMessage.style.color = "rgba(255, 255, 255, 0.8)";
            }, 3000);
        }

        // Gabungkan fungsi yang dipilih
        function combineFunctions() {
            if (selectedFunctions.length < 2) return;
            
            // Simulasi loading
            combineBtn.innerHTML = `<div class="loading"></div> Generating...`;
            combineBtn.disabled = true;
            
            setTimeout(() => {
                // Urutkan fungsi berdasarkan nomor
                const sortedFunctions = [...selectedFunctions].sort((a, b) => a.number - b.number);
                const functionSymbols = sortedFunctions.map(f => f.symbol);
                
                // Cari sketch yang diketahui
                let foundSketch = null;
                
                for (const sketch of exampleSketches) {
                    const sketchFunctions = [...sketch.functions].sort();
                    const selectedFunctionSymbols = [...functionSymbols].sort();
                    
                    // Cari kecocokan (tidak harus persis sama)
                    let matchCount = 0;
                    selectedFunctionSymbols.forEach(symbol => {
                        if (sketchFunctions.includes(symbol)) matchCount++;
                    });
                    
                    if (matchCount >= 2) { // Minimal 2 fungsi cocok
                        foundSketch = sketch;
                        break;
                    }
                }
                
                // Jika tidak ditemukan, buat sketch generik
                if (!foundSketch) {
                    foundSketch = generateGenericSketch(sortedFunctions);
                }
                
                // Tampilkan hasil
                displayCombineResult(foundSketch, sortedFunctions);
                
                // Reset button
                combineBtn.innerHTML = `<i class="fas fa-bolt mr-2"></i>Generate Sketch (${selectedFunctions.length})`;
                combineBtn.disabled = false;
            }, 800);
        }

        // Hasilkan sketch generik berdasarkan fungsi
        function generateGenericSketch(functions) {
            const functionCount = functions.length;
            
            // Generate code berdasarkan fungsi yang dipilih
            let setupCode = "void setup() {\n";
            let loopCode = "void loop() {\n";
            
            functions.forEach(func => {
                if (func.symbol === "pinMode") {
                    setupCode += `  pinMode(13, OUTPUT);\n`;
                } else if (func.symbol === "digitalWrite") {
                    loopCode += `  digitalWrite(13, HIGH);\n  delay(1000);\n  digitalWrite(13, LOW);\n  delay(1000);\n`;
                } else if (func.symbol === "digitalRead") {
                    setupCode += `  pinMode(2, INPUT_PULLUP);\n  pinMode(13, OUTPUT);\n`;
                    loopCode += `  if(digitalRead(2) == LOW) {\n    digitalWrite(13, HIGH);\n  } else {\n    digitalWrite(13, LOW);\n  }\n`;
                } else if (func.symbol === "analogRead") {
                    loopCode += `  int sensor = analogRead(A0);\n  // Process sensor value\n`;
                } else if (func.symbol === "analogWrite") {
                    setupCode += `  pinMode(9, OUTPUT);\n`;
                    loopCode += `  analogWrite(9, 128); // 50% duty cycle\n  delay(1000);\n`;
                } else if (func.symbol === "delay") {
                    loopCode += `  delay(1000); // 1 second delay\n`;
                } else if (func.symbol === "Serial.begin") {
                    setupCode += `  Serial.begin(9600);\n`;
                } else if (func.symbol === "Serial.print") {
                    loopCode += `  Serial.print("Hello Arduino!");\n`;
                } else if (func.symbol === "for") {
                    loopCode += `  for(int i=0; i<10; i++) {\n    // Your code here\n    delay(100);\n  }\n`;
                } else if (func.symbol === "if") {
                    loopCode += `  if(condition) {\n    // Code if condition is true\n  }\n`;
                } else if (func.symbol === "while") {
                    loopCode += `  while(condition) {\n    // Loop while condition is true\n  }\n`;
                }
            });
            
            setupCode += "}\n\n";
            loopCode += "}";
            
            const fullCode = setupCode + loopCode;
            
            return {
                functions: functions.map(f => f.symbol),
                code: fullCode,
                name: `${functions.map(f => f.name).join(" + ")} Example`,
                description: `Sketch contoh menggunakan fungsi ${functions.map(f => f.symbol).join(", ")}.`,
                properties: [
                    `Fungsi: ${functions.map(f => f.symbol).join(", ")}`,
                    `Pin default: 13, 2, A0`,
                    `Baud rate: 9600`,
                    `Contoh implementasi`
                ]
            };
        }

        // Tampilkan hasil kombinasi
        function displayCombineResult(sketch, functions) {
            combineResult.style.display = 'block';
            combineResult.innerHTML = `
                <div class="mb-4">
                    <h3 class="sketch-name">${sketch.name}</h3>
                    <div class="sketch-code">${sketch.code.replace(/\n/g, '<br>').replace(/ /g, '&nbsp;')}</div>
                    <p class="sketch-description">${sketch.description}</p>
                    <div class="text-xs text-gray-500 mb-3">
                        <i class="fas fa-code mr-1"></i> Menggunakan: ${sketch.functions.join(", ")}
                    </div>
                </div>
                
                <div class="sketch-properties">
                    ${sketch.properties.map(prop => `
                        <div class="sketch-prop">
                            <i class="fas fa-check text-green-500 mr-1"></i> ${prop}
                        </div>
                    `).join('')}
                </div>
                
                <div class="mt-4 text-xs text-gray-600">
                    <p><i class="fas fa-lightbulb text-yellow-500 mr-1"></i> 
                    ${getSketchTip(sketch, functions)}</p>
                </div>
                
                <button id="new-experiment" class="w-full mt-4 bg-teal-500 text-white py-2 rounded-lg font-bold">
                    <i class="fas fa-redo mr-2"></i>Buat Sketch Baru
                </button>
            `;
            
            // Scroll ke hasil
            combineResult.scrollIntoView({ behavior: 'smooth' });
            
            // Event listener untuk tombol eksperimen baru
            document.getElementById('new-experiment').addEventListener('click', () => {
                selectedFunctions = [];
                updateSelectedFunctionsDisplay();
                updateCombineButton();
                updateStatusMessage();
                highlightSelectedFunctions();
                combineResult.style.display = 'none';
            });
        }

        // Dapatkan tips tentang sketch
        function getSketchTip(sketch, functions) {
            const tips = [
                "Upload sketch ke Arduino menggunakan USB cable.",
                "Pastikan board dan port dipilih dengan benar di IDE.",
                "Gunakan Serial Monitor untuk debugging (Tools > Serial Monitor).",
                "Klik Verify terlebih dahulu sebelum Upload.",
                "Pastikan koneksi hardware sesuai dengan sketch."
            ];
            
            // Tips khusus berdasarkan fungsi
            if (sketch.functions.includes("Serial.begin")) {
                return "Buka Serial Monitor (Ctrl+Shift+M) untuk melihat output serial. Pastikan baud rate sama.";
            } else if (sketch.functions.includes("analogWrite")) {
                return "Analog Write hanya bekerja pada pin PWM (ditandai dengan ~). Di Arduino Uno: 3,5,6,9,10,11.";
            } else if (sketch.name.includes("LED")) {
                return "Hubungkan LED dengan resistor 220Ω-1kΩ ke ground untuk mencegah kerusakan LED dan Arduino.";
            } else if (sketch.functions.includes("digitalRead")) {
                return "Gunakan INPUT_PULLUP untuk mengaktifkan resistor pullup internal, sehingga tidak perlu resistor eksternal.";
            }
            
            return tips[Math.floor(Math.random() * tips.length)];
        }

        // Tampilkan detail fungsi dalam modal
        function showFunctionDetails(func) {
            const categoryNames = {
                "data-types": "Tipe Data",
                "control-structures": "Struktur Kontrol",
                "digital-functions": "Fungsi Digital I/O",
                "analog-functions": "Fungsi Analog I/O",
                "time-functions": "Fungsi Waktu",
                "math-functions": "Fungsi Matematika",
                "communication": "Komunikasi Serial",
                "advanced": "Fungsi Advanced"
            };
            
            modalBody.innerHTML = `
                <div class="function-detail-card" style="border-left: 4px solid ${getCategoryColor(func.category)}; background-color: ${getCategoryColor(func.category, 0.1)}">
                    <div class="flex items-center mb-4">
                        <div class="function-cell ${func.colorClass} w-16 h-16 mr-4">
                            <div class="function-number">${func.number}</div>
                            <div class="function-symbol text-xl">${func.symbol}</div>
                            <div class="function-name">${func.name}</div>
                        </div>
                        <div>
                            <h2 class="text-xl font-bold text-gray-800">${func.name}</h2>
                            <p class="text-gray-600 text-sm">${func.symbol} • ${categoryNames[func.category] || func.category}</p>
                            <p class="text-gray-500 text-xs mt-1">Fungsi #${func.number}</p>
                        </div>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="detail-row">
                            <span class="detail-label">Deskripsi:</span>
                            <span class="detail-value text-right">${func.description}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Sintaks:</span>
                            <span class="detail-value text-xs font-mono bg-gray-100 p-1 rounded">${func.syntax}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Contoh:</span>
                            <span class="detail-value text-xs font-mono bg-gray-800 text-white p-1 rounded">${func.example}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Kategori:</span>
                            <span class="detail-value">${categoryNames[func.category]}</span>
                        </div>
                    </div>
                    
                    <div class="mt-4 p-3 bg-gray-50 rounded-lg">
                        <h4 class="font-bold text-gray-700 mb-1 text-sm">Penggunaan:</h4>
                        <p class="text-xs text-gray-600">${func.usage}</p>
                    </div>
                    
                    ${currentTab === 'combine' ? `
                    <button id="select-for-combine" class="w-full mt-4 bg-teal-500 text-white py-2 rounded-lg font-bold hover:bg-teal-600 transition">
                        <i class="fas fa-plus mr-2"></i>Pilih untuk Sketch
                    </button>
                    ` : ''}
                </div>
            `;
            
            // Tambahkan event listener untuk tombol pilih jika di mode combine
            if (currentTab === 'combine') {
                const selectBtn = document.getElementById('select-for-combine');
                selectBtn.addEventListener('click', () => {
                    selectFunctionForCombination(func);
                    functionModal.classList.add('hidden');
                    
                    // Switch ke tab combine jika belum
                    if (currentTab !== 'combine') {
                        switchTab('combine');
                    }
                });
            }
            
            functionModal.classList.remove('hidden');
        }

        // Tampilkan libraries
        function showLibraries() {
            const libraries = [
                { symbol: "Servo", name: "Servo Library", description: "Mengontrol motor servo" },
                { symbol: "LiquidCrystal", name: "LCD Library", description: "Mengontrol display LCD 16x2, 20x4" },
                { symbol: "Wire", name: "Wire Library", description: "Komunikasi I2C untuk sensor dan modul" },
                { symbol: "SPI", name: "SPI Library", description: "Komunikasi SPI kecepatan tinggi" },
                { symbol: "EEPROM", name: "EEPROM Library", description: "Menyimpan data permanen di EEPROM" },
                { symbol: "WiFi", name: "WiFi Library", description: "Koneksi WiFi untuk ESP8266/ESP32" },
                { symbol: "SD", name: "SD Card Library", description: "Membaca/menulis file ke SD card" },
                { symbol: "Stepper", name: "Stepper Library", description: "Mengontrol motor stepper bipolar/unipolar" },
                { symbol: "Adafruit_GFX", name: "Adafruit GFX", description: "Library grafis untuk berbagai display" },
                { symbol: "DHT", name: "DHT Library", description: "Membaca sensor suhu & kelembaban DHT11/DHT22" },
                { symbol: "SoftwareSerial", name: "Software Serial", description: "Komunikasi serial pada pin digital" },
                { symbol: "OneWire", name: "OneWire Library", description: "Komunikasi 1-Wire untuk sensor DS18B20" }
            ];
            
            showSpecialElements(libraries, "Libraries Arduino", "libraries");
        }

        // Tampilkan fungsi advanced
        function showAdvanced() {
            const advancedFunctions = [
                { symbol: "attachInterrupt", name: "Attach Interrupt", description: "Mengatur interrupt pada pin tertentu" },
                { symbol: "detachInterrupt", name: "Detach Interrupt", description: "Menghapus interrupt dari pin" },
                { symbol: "noInterrupts", name: "No Interrupts", description: "Menonaktifkan semua interrupt" },
                { symbol: "interrupts", name: "Interrupts", description: "Mengaktifkan semua interrupt" },
                { symbol: "tone", name: "Tone", description: "Menghasilkan nada pada pin" },
                { symbol: "noTone", name: "No Tone", description: "Menghentikan output tone" },
                { symbol: "pulseIn", name: "Pulse In", description: "Mengukur durasi pulse pada pin" },
                { symbol: "pulseInLong", name: "Pulse In Long", description: "Mengukur durasi pulse yang panjang" },
                { symbol: "shiftOut", name: "Shift Out", description: "Shift register output (serial ke paralel)" },
                { symbol: "shiftIn", name: "Shift In", description: "Shift register input (paralel ke serial)" },
                { symbol: "bitRead", name: "Bit Read", description: "Membaca bit tertentu dari sebuah angka" },
                { symbol: "bitWrite", name: "Bit Write", description: "Menulis ke bit tertentu dari sebuah angka" }
            ];
            
            showSpecialElements(advancedFunctions, "Fungsi Advanced", "advanced");
        }

        // Tampilkan elemen khusus (libraries/advanced)
        function showSpecialElements(elements, title, type) {
            specialModalBody.innerHTML = `
                <div class="mb-4">
                    <h2 class="text-xl font-bold text-gray-800 mb-2">${title}</h2>
                    <p class="text-gray-600 text-sm mb-4">${type === 'libraries' ? 'Tambahan library yang dapat diinclude di sketch' : 'Fungsi-fungsi tingkat lanjut untuk kontrol lebih detail'}</p>
                </div>
                <div class="grid grid-cols-2 gap-2 mb-4 max-h-60 overflow-y-auto p-2">
                    ${elements.map(element => `
                        <div class="p-3 bg-gray-100 rounded-lg hover:bg-gray-200 transition cursor-pointer" onclick="alert('${element.name}: ${element.description}')">
                            <div class="font-bold text-gray-800 text-sm">${element.symbol}</div>
                            <div class="text-xs text-gray-600">${element.name}</div>
                            <div class="text-xs text-gray-500 mt-1 truncate">${element.description}</div>
                        </div>
                    `).join('')}
                </div>
                <div class="text-xs text-gray-500 p-2 bg-gray-50 rounded-lg">
                    <p class="mb-1"><i class="fas fa-info-circle mr-1"></i> ${type === 'libraries' ? 'Gunakan #include <Library.h> untuk menambahkan library ke sketch' : 'Fungsi ini untuk keperluan khusus dan optimisasi'}</p>
                    <p><i class="fas fa-download mr-1"></i> ${type === 'libraries' ? 'Library dapat diinstall melalui Library Manager (Sketch > Include Library > Manage Libraries)' : 'Pelajari dokumentasi resmi sebelum menggunakan fungsi advanced'}</p>
                </div>
            `;
            
            specialModal.classList.remove('hidden');
        }

        // Fungsi untuk berpindah tab
        function switchTab(tabName) {
            // Update tab aktif
            tabs.forEach(tab => {
                if (tab.dataset.tab === tabName) {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
            
            // Update konten tab aktif
            tabContents.forEach(content => {
                if (content.id === `${tabName}-tab`) {
                    content.classList.add('active');
                } else {
                    content.classList.remove('active');
                }
            });
            
            currentTab = tabName;
            
            // Scroll ke atas
            window.scrollTo(0, 0);
        }

        // Dapatkan warna berdasarkan kategori
        function getCategoryColor(category, opacity = 1) {
            const colors = {
                "data-types": "#ff6b6b",
                "control-structures": "#ffa726",
                "digital-functions": "#42a5f5",
                "analog-functions": "#66bb6a",
                "time-functions": "#ab47bc",
                "math-functions": "#26c6da",
                "communication": "#ffca28",
                "advanced": "#ec407a",
                "libraries": "#7e57c2"
            };
            
            const color = colors[category] || "#cccccc";
            if (opacity < 1) {
                const r = parseInt(color.slice(1, 3), 16);
                const g = parseInt(color.slice(3, 5), 16);
                const b = parseInt(color.slice(5, 7), 16);
                return `rgba(${r}, ${g}, ${b}, ${opacity})`;
            }
            return color;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Tutup modal
            closeModalBtn.addEventListener('click', () => {
                functionModal.classList.add('hidden');
            });
            
            closeSpecialModalBtn.addEventListener('click', () => {
                specialModal.classList.add('hidden');
            });
            
            // Tutup modal dengan klik di luar konten
            functionModal.addEventListener('click', (e) => {
                if (e.target === functionModal) {
                    functionModal.classList.add('hidden');
                }
            });
            
            specialModal.addEventListener('click', (e) => {
                if (e.target === specialModal) {
                    specialModal.classList.add('hidden');
                }
            });
            
            // Tutup modal dengan tombol ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    if (!functionModal.classList.contains('hidden')) {
                        functionModal.classList.add('hidden');
                    }
                    if (!specialModal.classList.contains('hidden')) {
                        specialModal.classList.add('hidden');
                    }
                }
            });
            
            // Pencarian fungsi
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase().trim();
                
                // Reset semua filter kategori
                categoryFilterBtns.forEach(btn => {
                    if (btn.dataset.category !== 'all') {
                        btn.classList.remove('active');
                    }
                });
                categoryFilterBtns[0].classList.add('active'); // Set "all" as active
                currentCategoryFilter = 'all';
                
                // Sembunyikan semua fungsi dulu
                document.querySelectorAll('#function-table .function-cell').forEach(cell => {
                    if (cell.dataset.symbol) {
                        cell.style.display = 'flex';
                        cell.style.opacity = '0.3';
                        cell.style.transform = 'scale(0.95)';
                    }
                });
                
                // Jika kosong, tampilkan semua
                if (!searchTerm) {
                    document.querySelectorAll('#function-table .function-cell').forEach(cell => {
                        if (cell.dataset.symbol) {
                            cell.style.opacity = '1';
                            cell.style.transform = 'scale(1)';
                        }
                    });
                    totalFunctionsSpan.textContent = arduinoFunctions.length;
                    return;
                }
                
                // Tampilkan fungsi yang cocok
                let foundCount = 0;
                arduinoFunctions.forEach(func => {
                    if (func.symbol.toLowerCase().includes(searchTerm) || 
                        func.name.toLowerCase().includes(searchTerm) ||
                        func.description.toLowerCase().includes(searchTerm)) {
                        
                        const cells = document.querySelectorAll(`[data-symbol="${func.symbol}"]`);
                        cells.forEach(cell => {
                            cell.style.opacity = '1';
                            cell.style.transform = 'scale(1.05)';
                            cell.style.zIndex = '10';
                            cell.style.boxShadow = '0 0 8px rgba(0,0,0,0.2)';
                        });
                        foundCount++;
                    }
                });
                
                // Update count
                totalFunctionsSpan.textContent = foundCount;
                
                // Jika tidak ditemukan, reset semua
                if (foundCount === 0) {
                    document.querySelectorAll('#function-table .function-cell').forEach(cell => {
                        if (cell.dataset.symbol) {
                            cell.style.opacity = '1';
                            cell.style.transform = 'scale(1)';
                            cell.style.zIndex = '1';
                            cell.style.boxShadow = '';
                        }
                    });
                }
            });
            
            // Fokus pada input pencarian dengan shortcut Ctrl+F
            document.addEventListener('keydown', (e) => {
                if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                    e.preventDefault();
                    searchInput.focus();
                }
            });
            
            // Tombol untuk libraries dan advanced
            showLibrariesBtn.addEventListener('click', showLibraries);
            showAdvancedBtn.addEventListener('click', showAdvanced);
            
            // Tombol untuk sistem pembuatan sketch
            combineBtn.addEventListener('click', combineFunctions);
            
            clearBtn.addEventListener('click', () => {
                selectedFunctions = [];
                updateSelectedFunctionsDisplay();
                updateCombineButton();
                updateStatusMessage();
                highlightSelectedFunctions();
                combineResult.style.display = 'none';
                showStatusMessage("Semua fungsi telah dihapus", "info");
            });
            
            // Tab switching
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    switchTab(tab.dataset.tab);
                });
            });
            
            // Filter kategori
            categoryFilterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const category = btn.dataset.category;
                    
                    // Update active button
                    categoryFilterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Reset search
                    searchInput.value = '';
                    
                    // Apply filter
                    currentCategoryFilter = category;
                    filterFunctionsByCategory(category);
                });
            });
            
            // Load more examples
            if (loadMoreExamplesBtn) {
                loadMoreExamplesBtn.addEventListener('click', () => {
                    // Show all examples
                    examplesContainer.innerHTML = '';
                    
                    exampleSketches.forEach((sketch, index) => {
                        const exampleCard = document.createElement('div');
                        exampleCard.className = 'bg-white border border-gray-200 rounded-xl p-4 shadow-sm mb-4';
                        exampleCard.innerHTML = `
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-bold text-gray-800">${sketch.name}</h4>
                                <span class="text-xs bg-${sketch.difficulty === 'Pemula' ? 'green' : 'yellow'}-100 text-${sketch.difficulty === 'Pemula' ? 'green' : 'yellow'}-700 px-2 py-1 rounded-full">
                                    ${sketch.difficulty}
                                </span>
                            </div>
                            <p class="text-sm text-gray-600 mb-3">${sketch.description}</p>
                            <div class="bg-gray-800 text-white rounded-lg p-3 mb-3 font-mono text-xs overflow-x-auto">
                                <pre>${sketch.code}</pre>
                            </div>
                            <div class="flex justify-between items-center text-xs">
                                <div>
                                    <span class="text-gray-500">Fungsi: </span>
                                    <span class="font-medium">${sketch.functions.join(", ")}</span>
                                </div>
                                <button class="text-blue-600 font-medium" onclick="loadExampleDetail(${index})">
                                    Lihat Detail →
                                </button>
                            </div>
                        `;
                        examplesContainer.appendChild(exampleCard);
                    });
                    
                    // Hide load more button
                    loadMoreExamplesBtn.style.display = 'none';
                });
            }
        }

        // Inisialisasi ketika halaman dimuat
        document.addEventListener('DOMContentLoaded', initFunctionTable);
    </script>
</body>
</html>
